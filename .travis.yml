language: scala

sudo: false

jdk:
- oraclejdk8

addons:
  apt:
    packages:
    - oracle-java8-installer

env:
  global:
  # PGP Passphrase
  - secure: "kkPlRKeOLpGU3WTOsT4mzQr668LHjUlx6VJ8cNdMsmJH6XBqbBGhOS3r2+7mSvBxIJkkM4xwiAlNkZYa60Ti4eYFQ0UMTGn2jISGrL4ogq9jpPLC1La3PwwfP4Xi9SV4lY+1+dhQvWjltYjAs2zzhlY4lcDe3mgQiO2E+EdXZI4fBQNHS6eDNtGcl22rRFFosN6q3JYtJbNIEkGcZKlG3rm07pn+xTLwaNcZoXwqD9mK7qwlZrztLhY1+6fyzH/eGO87BQyzSMxklh680dGzRuBch/Wx8izAitTh+yAXde4rUUuMUwW910WVmFHEAajtnah7ahYm9XP0Sw92+MKs51ogbIY7G886jxAre43ouHUSab/iIgJCWwfifjuNqnJ92t7fmBPLE9gfSuoMuUNQ7SP6VMY1WWEHgvDYnspCobyb8k4hNxkLuthIgaf11eT8L6hyJUttMR3riLRpd8YtJ5qXabD12Bi+weLxzD0PAJGwsfCn0PakWTW1jMZATV/CIIk9Ul/JtPLg3g+SEZWaiNUjJmB1FSiqwUQxydfCh1dBLlSJLuL0Nqiz/PO4ff4sv5+gq3PbdYIFvu0T+kySnPl2SeTfxXavjkQSUOPNTohI/ftgqpRKPYYZU4j0dToOdDMpc+M1MNnj6tMc0dDFGYonrKZo/KJH0ghvaLu3sYY="
  # Github Token
  - secure: "Pdw3izaSTlwOYjFo1q14b4eYa7jfaw1E+4U7AGsizEyEjCHRMjmsz0XlNShi4wn1VJeKq75fgukIO7O3WQaV1rVtM1F8/cMt1QTCVt3I5HAOdItRN9TMuERgJB4MltDNNXGBJH9ElmDYWo4dwk8ERcA/X8ksHDR63WDSsUKJ3JRbXDELhevpGqhbXgXUL/su6fSXV4ItsoWP0xRRJHXk4Z4kHtvqklA9w7XN3GrcwLNEKFPD6u2TO9G5bbNPtQLae2evJxmUVADQKYUpEYUpZFBQ3mg1MH8jEG+8/eFYHPA1Rere2TxQvL/SLOQG2aJjTgeaQMBIItPSr7GVTD8053uLotshYNQHcSGLU0DJZ2Qu1sDP0CNJaRtHgy/9yGyRcCzC5r+jkHXsfC7z5sBMc4apI4Nm9uE1zKxqUS1vJQmVwfZMmIozkk6nCAd19rxKPiILHPGavuRQex8dfISzTI7d0+PAh5XWLE1jLqhhLXNUU28PwK+vd9QkGNmAFDyTKCztYSpAMMK0ahrAR0hHM+RLyRfEMP68enNMwzcixjCXl0NUmFS83dWOCQUZERD3n20uXaEx0qiFV+XVW1U1DklYJoEpMUn5g7nvjgatLObl40vNKURefPBhzw5szxNmM7uWUMCQC3DeZZQRy+VviZH8TPvAWMlFAICizoF1ucQ="

script: sbt scripted

before_deploy:
- openssl aes-256-cbc -K $encrypted_4a09436dfeda_key -iv $encrypted_4a09436dfeda_iv -in travis/secring.asc.enc -out travis/secring.asc -d

deploy:
  provider: script
  script: sbt publishSigned githubRelease
  on:
    tags: true
    branch: master
  skip_cleanup: true

before_cache:
- find "$HOME/.ivy2/cache" -name "ivydata-*.properties" -print -delete
- find "$HOME/.sbt"        -name "*.lock"               -print -delete

cache:
  directories:
  - "$HOME/.ivy2/cache"
  - "$HOME/.sbt/boot/"
